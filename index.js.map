{"version":3,"file":"index.js","sources":["../src/js/init.js","../src/js/gallery.js"],"sourcesContent":["window.global ||= window;\n","import \"./init.js\";\n// Dokümantasyonda belirtilen import\nimport iziToast from \"izitoast\";\n// Stil importu\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Kullanılacak kısmın import edilmesi\nimport SimpleLightbox from \"simplelightbox\";\n// Ek stillerin eklenmesi\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport axios from \"axios\";\n\nconst form = document.querySelector(\"#search-form\");\nconst loader = document.querySelector(\"#loader\");\nconst galleryList = document.querySelector(\".gallery-list\");\nconst API_KEY = \"48271120-e478f6712aa82518e8481b3a8\";\nconst url = 'https://pixabay.com/api/';\nlet params = {\n  key: '48271120-e478f6712aa82518e8481b3a8',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\nconst fetchPixabay = async (url,params) => {  \n  const response = await axios.get(url, {params});\n  return response.data;\n}\n\nform.addEventListener(\"submit\", async (evt) => {\n  evt.preventDefault();\n  loader.classList.add(\"loader\"); \n  params.q = evt.currentTarget.elements.query.value.trim();\n  fetchPixabay(url, params)\n  .then(data => {\n     if (data.hits.length <= 0) {\n       throw new Error(\n         'Sorry, there are no images matching your search query. Please try again!'\n       );\n     }\n     const galleryMarkup = data.hits\n       .map(\n         ({\n           webformatURL,\n           largeImageURL,\n           tags,\n           likes,\n           views,\n           comments,\n           downloads,\n         }) => {\n           return `\n            <li class=\"card\">\n              <div class=\"card-image\">\n               <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                 <img src=\"${webformatURL}\"  alt=\"${tags}\" class=\"gallery-image\"/>\n               </a>\n             </div>\n              <ul class=\"card-info\">\n                <li class=\"info-item\">\n                   <h3>Likes</h3>\n                   <p>${likes}</p>\n                </li>\n                <li class=\"info-item\">\n                  <h3>Views</h3>\n                  <p>${views}</p>\n                </li>\n                <li class=\"info-item\">\n                  <h3>Comments</h3>\n                  <p>${comments}</p>\n               </li>\n               <li class=\"info-item\">\n                 <h3>Downloads</h3>\n                 <p>${downloads}</p>\n               </li>\n             </ul>\n        </li>`;\n         }\n       )\n       .join('');\n     galleryList.innerHTML = galleryMarkup;\n     loader.classList.remove('loader');\n\n     let simplo = new SimpleLightbox('.gallery-list a', {\n       captionsData: 'alt',\n       captionDelay: 250,\n     });\n     simplo.refresh();\n   })\n\n   .catch(error => {\n     iziToast.error({\n       message: `${error}`,\n       position: 'topRight',\n     });\n     galleryList.innerHTML = '';\n     loader.classList.remove('loader');\n   });\n  form.reset();\n});\n"],"names":["form","loader","galleryList","url","params","fetchPixabay","axios","evt","data","galleryMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","error","iziToast"],"mappings":"owBAAA,OAAO,SAAP,OAAO,OAAW,QCYlB,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAc,SAAS,cAAc,eAAe,EAEpDC,EAAM,2BACZ,IAAIC,EAAS,CACX,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EACA,MAAMC,EAAe,MAAOF,EAAIC,KACb,MAAME,EAAM,IAAIH,EAAK,CAAC,OAAAC,CAAM,CAAC,GAC9B,KAGlBJ,EAAK,iBAAiB,SAAU,MAAOO,GAAQ,CAC7CA,EAAI,eAAc,EAClBN,EAAO,UAAU,IAAI,QAAQ,EAC7BG,EAAO,EAAIG,EAAI,cAAc,SAAS,MAAM,MAAM,OAClDF,EAAaF,EAAKC,CAAM,EACvB,KAAKI,GAAQ,CACX,GAAIA,EAAK,KAAK,QAAU,EACtB,MAAM,IAAI,MACR,0EACT,EAEK,MAAMC,EAAgBD,EAAK,KACxB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACX,IACkB;AAAA;AAAA;AAAA,+CAG6BL,CAAa;AAAA,6BAC/BD,CAAY,WAAWE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAMhCC,CAAK;AAAA;AAAA;AAAA;AAAA,uBAINC,CAAK;AAAA;AAAA;AAAA;AAAA,uBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sBAITC,CAAS;AAAA;AAAA;AAAA,cAKvB,EACA,KAAK,EAAE,EACVd,EAAY,UAAYO,EACxBR,EAAO,UAAU,OAAO,QAAQ,EAEnB,IAAIgB,EAAe,kBAAmB,CACjD,aAAc,MACd,aAAc,GACrB,CAAM,EACM,QAAO,CACnB,CAAI,EAEA,MAAMC,GAAS,CACdC,EAAS,MAAM,CACb,QAAS,GAAGD,CAAK,GACjB,SAAU,UACjB,CAAM,EACDhB,EAAY,UAAY,GACxBD,EAAO,UAAU,OAAO,QAAQ,CACrC,CAAI,EACFD,EAAK,MAAK,CACZ,CAAC"}